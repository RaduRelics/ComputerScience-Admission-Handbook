# Arrays & Matrices

An array is a series of elements of the same type placed in contiguous memory locations that can be individually referenced by adding an index to a unique identifier. [\[1\]][1]

Arrays are used to store multiple values in a single variable, instead of declaring separate variables for each value. [\[2\]][2]

For example, an array containing 5 integer values of type int called foo could be represented as: [[1]]

![](/img/arrays1.png)

To declare an array, define the variable type, specify the name of the array followed by square brackets and specify the number of elements it should store: [\[2\]][2]

```C++
int foo[5];
```

> **NOTE:** The elements field within square brackets [], representing the number of elements in the array, must be a constant expression, since arrays are blocks of static memory whose size must be determined at compile time, before the program runs. [\[1\]][1]
>> **NOTE:** By default, regular arrays of local scope (for example, those declared within a function) are left **uninitialized**. This means that none of its elements are set to any particular value; their contents are **undetermined** at the point the array is declared. [\[1\]][1]

We have now declared a variable that holds an array of five integers. To insert values to it, we can use an array literal - place the values in a comma-separated list, inside curly braces: [\[2\]][2]

```C++
int foo [5] = { 16, 2, 77, 40, 12071 }; 
```

![](/img/arrays2.png)

The number of values between braces {} shall not be greater than the number of elements in the array. For example, in the example above, foo was declared having 5 elements (as specified by the number enclosed in square brackets, []), and the braces {} contained exactly 5 values, one for each element. If declared with less, the remaining elements are set to their default values (which for fundamental types, means they are filled with zeroes). For example: [\[1\]][1]

```C++
int bar [5] = { 10, 20, 30 }; 
```

![](/img/arrays3.png)

## Access the Elements of an Array

You access an array element by referring to the index number inside square brackets []. [\[2\]][2]

This statement accesses the value of the first element in nums: [\[2\]][2]

```C++
int nums[4] = {"5", "3", "99"};
cout<< nums[0];
// Outputs 5
```

> **Note:** Array indexes start with 0: 0 is the first element. 1 is the second element, etc. [\[2\]][2]

## Change an Array Element

To change the value of a specific element, refer to the index number: [\[2\]][2]

```C++
id[0] = "55";
```

### Example

```C++
int grades[4] = {4, 5, 9, 10};
grades[0] = 10;
cout<<grades[0];
// Now you got a 10, Good job!
```

## Loop Through an Array

You can loop through the array elements using the `for` loop.

The following example outputs all elements in the **grades** array:

```C++
int grades[4] = {4, 5, 9, 10};
for (int i = 0; i < 4; i++) {
  cout << grades[i] << "\n";
}
```

The following example outputs the index of each element together with its value: [\[2\]][2]

```C++
int grades[4] = {4, 5, 9, 10};
for (int i = 0; i < 4; i++) {
  cout << i << ": " << grades[i] << "\n";
}
```

## Omit Array Size

You don't have to specify the size of the array. But if you don't, it will only be as big as the elements that are inserted into it: [\[2\]][2]

```C++
int array[] = {1, 2, 3}; // size of array is always 3
```

This is completely fine. However, the problem arise if you want extra space for future elements. Then you have to overwrite the existing values: [\[2\]][2]

```C++
int array[] = {1, 2, 3};
int array[] = {1, 2, 3, 4, 5};
```

As mentioned previously, if you specify the size, the array will reserve the extra space:

```C++
int models[5] = {55, 33, 22}; // size of array is 5, even though it only has three elements inside it
```

Now you can add a fourth and fifth element without overwriting the others: [\[2\]][2]

```C++
models[3] = 88;
models[4] 22;
```

## Omit Elements on Declaration

It is also possible to declare an array without specifying the elements on declaration, and add them later: [\[2\]][2]

```C++
double nums[5];
nums[0] = 3.5;
nums[1] = 3.14;
...
```

## Get the Size of an Array

To get the size of an array, you can use the `sizeof()` operator: [\[2\]][2]

> **Note:** sizeof() is not allowed at the exam, the array size will be given, otherwise a solution without the use of an array is necessary

```C++
int myNumbers[5] = {10, 20, 30, 40, 50};
cout << sizeof(myNumbers);
```

*Why did the result show 20 instead of 5, when the array contains 5 elements?* 

It is because the sizeof() operator returns the size of a type in **bytes**.

You learned from the [Data Types chapter](/1.2-Variables-Expressions-Operations.md) that an int type is usually 4 bytes, so from the example above, 4 x 5 (4 bytes x 5 elements) = 20 bytes. [\[2\]][2]

**To find out how many elements an array has**, you have to divide the size of the array by the size of the data type it contains: [\[2\]][2]

```C++
int myNumbers[5] = {10, 20, 30, 40, 50};
int getArrayLength = sizeof(myNumbers) / sizeof(int);
cout << getArrayLength;
```
Output:
``
5
``

## Multi-Dimensional Arrays / Matrices

A multi-dimensional array is an array of arrays. [\[2\]][2]

To declare a multi-dimensional array, define the variable type, specify the name of the array followed by square brackets which specify how many elements the main array has, followed by another set of square brackets which indicates how many elements the sub-arrays have: [\[2\]][2]

```C++
int matrix[10][10];
```

As with ordinary arrays, you can insert values with an array literal - a comma-separated list inside curly braces. In a multi-dimensional array, each element in an array literal is another array literal. [\[2\]][2]


```C++
int nums[2][4] = {
  { 1, 2, 3, 4 },
  { 5, 6, 7, 8 }
};
```

Each set of square brackets in an array declaration adds another dimension to an array. An array like the one above is said to have two dimensions. [\[2\]][2]

Arrays can have any number of dimensions. The more dimensions an array has, the more complex the code becomes. The following array has three dimensions: [\[2\]][2]

```C++
string letters[2][2][2] = {
  {
    { "A", "B" },
    { "C", "D" }
  },
  {
    { "E", "F" },
    { "G", "H" }
  }
};
```

> **Note:** this is the "modern" string format, not the one from `<cstring>` but rather from `<string>`

## Access the Elements of a Multi-Dimensional Array

To access an element of a multi-dimensional array, specify an index number in each of the array's dimensions. [\[2\]][2]

This statement accesses the value of the element in the first row (0) and third column (2) of the letters array. [\[2\]][2]

```C++
string letters[2][4] = {
  { "A", "B", "C", "D" },
  { "E", "F", "G", "H" }
};

cout << letters[0][2];  // Outputs "C" 
```

> **Remember:** Array indexes start with 0: 0 is the first element. 1 is the second element, etc. 

## Change Elements in a Multi-Dimensional Array

To change the value of an element, refer to the index number of the element in each of the dimensions: [\[2\]][2]

```C++
string letters[2][4] = {
  { "A", "B", "C", "D" },
  { "E", "F", "G", "H" }
};
letters[0][0] = "Z";

cout << letters[0][0];  // Now outputs "Z" instead of "A" 
```

## Loop Through a Multi-Dimensional Array

To loop through a multi-dimensional array, you need one loop for each of the array's dimensions. [\[2\]][2]

The following example outputs all elements in the **letters** array: [\[2\]][2]

```C++
int mat[2][4] = {
  { 1, 2, 3, 4 },
  { 5, 6, 7, 8 }
};

for(int i = 0; i < 2; i++) {
  for(int j = 0; j < 4; j++) {
    cout << mat[i][j] << "\n";
  }
} 
```

This example shows how to loop through a three-dimensional array: [\[2\]][2]

```C++
string letters[2][2][2] = {
  {
    { "A", "B" },
    { "C", "D" }
  },
  {
    { "E", "F" },
    { "G", "H" }
  }
};

for(int i = 0; i < 2; i++) {
  for(int j = 0; j < 2; j++) {
    for(int k = 0; k < 2; k++) {
      cout << letters[i][j][k] << "\n";
    }
  }
} 
```

## Why Multi-Dimensional Arrays?

Multi-dimensional arrays are great at representing grids. This example shows a practical use for them. In the following example we use a multi-dimensional array to represent a small game of Battleship: [\[2\]][2]

```C++
// We put "1" to indicate there is a ship.
bool ships[4][4] = {
  { 0, 1, 1, 0 },
  { 0, 0, 0, 0 },
  { 0, 0, 1, 0 },
  { 0, 0, 1, 0 }
};

// Keep track of how many hits the player has and how many turns they have played in these variables
int hits = 0;
int numberOfTurns = 0;

// Allow the player to keep going until they have hit all four ships
while (hits < 4) {
  int row, column;

  cout << "Selecting coordinates\n";

  // Ask the player for a row
  cout << "Choose a row number between 0 and 3: ";
  cin >> row;

  // Ask the player for a column
  cout << "Choose a column number between 0 and 3: ";
  cin >> column;

  // Check if a ship exists in those coordinates
  if (ships[row][column]) {
    // If the player hit a ship, remove it by setting the value to zero.
    ships[row][column] = 0;

    // Increase the hit counter
    hits++;

    // Tell the player that they have hit a ship and how many ships are left
    cout << "Hit! " << (4-hits) << " left.\n\n";
  } else {
    // Tell the player that they missed
    cout << "Miss\n\n";
  }

  // Count how many turns the player has taken
  numberOfTurns++;
}

cout << "Victory!\n";
cout << "You won in " << numberOfTurns << " turns"; 
```

In the previous chapters we talked about [pointers](/3.1-Functions-PassingByReference.md).
Another method of declaring arrays is by using pointers:

```C
int *A = new int[100]; // A points to an array of 100 ints
```
and deleting them:

```C
delete[] A;
```

but more on that in later chapters.


[1]: https://cplusplus.com/doc/tutorial/arrays/

[2]:https://www.w3schools.com/cpp/cpp_arrays.asp

[3]: https://www2.lawrence.edu/fast/GREGGJ/CMSC270/Pointers/arrays_and_pointers.html